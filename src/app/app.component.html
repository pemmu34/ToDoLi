<title>ToDoList</title>

<div style="text-align: center">
  <input
    type="text"
    [ngModel]="inputValue()"
    (ngModelChange)="inputValue.set($event)"
    (keydown.enter)="onEnter()"
    placeholder="Введите задачу"
  />
</div>

<div style="text-align: center">
  <p>Невыполненных задач: {{ uncompletedTasksCount() }}</p>
  <p>Ваши задачи:</p>
  @for (task of tasksManager.tasks(); track task.id) {
    <div
      (mouseenter)="hoveredTaskId = task.id"
      (mouseleave)="hoveredTaskId = null"
    >
      <input
        type="checkbox"
        [checked]="task.completed"
        (change)="tasksManager.toggleTaskCompletion(task.id)"
      />
      <span [class.completed]="task.completed">
        {{ task.name }}
      </span>
      @if (hoveredTaskId === task.id) {
        <button
          class="delete-btn"
          (click)="tasksManager.deleteTask(task.id)"
        >
          ×
        </button>
      }
      <br>
    </div>
  }
</div>
